<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

    <title>J-Map</title>

    <link rel="shortcut icon" sizes="32x32" href="/images/app-icon.png">

    <meta name="theme-color" content="#fff">
    <link rel="manifest" href="/manifest.json">

    <script>
        // setup Polymer options
        window.Polymer = {lazyRegister: true, dom: 'shadow'};

        // load webcomponents polyfills
        (function() {
            if(
                'registerElement' in document
                && 'import' in document.createElement('link')
                && 'content' in document.createElement('template')
            ){
                // browser has web components
            }
            else{
                // polyfill web components
                var e = document.createElement('script');
                e.src = '/bower_components/webcomponentsjs/webcomponents-lite.min.js';
                document.head.appendChild(e);
            }
        })();

        // load pre-caching service worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js');
            });
        }
    </script>
    <link rel="import" href="/imports.html" charset="utf-8">
    <script src="/socket.io/socket.io.js"></script>
    <!-- <script>
        var regForm = document.querySelector('reg-form');
        var socket = io();

        socket.on('msg', function(data){
            console.log(data);
            var div = document.getElementById('msg');
            div.innerHTML = div.innerHTML+'<br />'+data.message;
            regForm.addContent(data);
        });

        function hola(){
            socket.emit('msg', {'message' : 'hola'});
        }
    </script> -->

    <!-- <link rel="import" href="/src/my-app.html"> -->
    <link type="text/css" rel="stylesheet" href="css/main.css" />
</head>
<body onresize="mapDisplay.repaintTable();">
    <login-form></login-form>
    <chat-sidebar expanded-sidebar></chat-sidebar>
    <map-display></map-display>
    <!-- <objective-form></objective-form> -->
    <script type="text/javascript" src="/js/socket-client.js"></script>
</body>
</html>
