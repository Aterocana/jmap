<link rel="import" href="/bower_components/polymer/polymer.html">

<dom-module id="objective-item">
    <style>
        .obj {
            width: 45%;
            height: 45%;
            z-index: 3;
            position: absolute;
            opacity: 0.8;
        }
        .first{
            top: 2.5%;
            left: 2.5%;
        }
        .second{
            top: 2.5%;
            right: 2.5%;
        }
        .third{
            bottom: 2.5%;
            left: 2.5%;
        }
        .fourth{
            bottom: 2.5%;
            right: 2.5%;
        }
    </style>
    <template>
        <div id="{{id}}" class$="obj {{cssClass}}" style="background-color: {{owner.color}}" draggable="true" ondragstart="drag(event)"></div>
    </template>
    <script>
        var ObjectiveItem = Polymer({
            is: 'objective-item',
            properties: {
                isOwner: {
                    type: Function
                },
                setClass: {
                    type: Function
                }
            },
            factoryImpl : function(obj, cssClass){
                /**
                 * obj: {
                 * 		id: Number,
                 * 		position: {
                 * 			col: Number,
                 * 			row: Number
                 * 	 	},
                 * 	 	name : String, TODO
                 * 	 	shape: String, TODO
                 * 	 	owner: {
                 * 	 		name : String,
                 * 	 		color: String,
                 * 	 		id   : String
                 * 	 	}
                 * }
                 */
                this.owner = obj.owner;
                this.id    = obj.id;
                // this.name  = obj.name; TODO
                // this.shape = obj.shape; TODO
                this.cssClass = cssClass;
            },
            ready: function(){
                // console.log("obj"+this.owner.id+" owner? "+this.isOwner());
            },
            isOwner : function(){
                return this.owner.id === userID;
            },
            setClass: function(cssClass){
                this.cssClass = cssClass;
            }
        });
    </script>
</dom-module>
