<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-slider/paper-slider.html">

<dom-module id="color-slider">
    <template>
        <style is="custom-style">
            #colorWrapper, .slider-wrapper{
                margin: 10px 0;
            }
            .slider-wrapper{
                width: 230px;
                padding: 10px;
            }
            #colorWrapper {
                float: right;
                width: 200px;
                height: 200px;
                text-align: center;
            }
            #colorPreview{
                border-radius: 200px;
                height: 200px;
                width: 200px;
            }
            paper-slider.red {
                --paper-slider-knob-color: var(--paper-red-500);
                --paper-slider-active-color: var(--paper-red-500);
            }
            paper-slider.green {
                --paper-slider-knob-color: var(--paper-green-500);
                --paper-slider-active-color: var(--paper-green-500);
            }
            paper-slider.blue {
                --paper-slider-knob-color: var(--paper-light-blue-500);
                --paper-slider-active-color: var(--paper-light-blue-500);
            }
        </style>

        <div id="colorWrapper">
            <div id="colorPreview"></div>
        </div>
        <div class="slider-wrapper">
            <div>R</div>
            <paper-slider class="red" value="{{red}}" min="0" max="255" pin="true" on-change="changeColor"></paper-slider>
            <div>G</div>
            <paper-slider class="green" value="{{green}}" min="0" max="255" pin="true" on-change="changeColor"></paper-slider>
            <div>B</div>
            <paper-slider class="blue" value="{{blue}}" min="0" max="255" pin="true" on-change="changeColor"></paper-slider>
        </div>
    </template>

    <script>
        Polymer({
            is: "color-slider",
            properties: {
                red : {
                    type: Number,
                    value: 0
                },
                green : {
                    type: Number,
                    value: 0
                },
                blue : {
                    type: Number,
                    value: 0
                },
            },
            ready: function(){
                this.changeColor();
            },
            changeColor: function(){
                this.$.colorPreview.setAttribute('style', "background-color:"+this.generateColor()+";");
            },
            generateColor: function(){
                return "#"+this.zeroFill(this.red.toString(16))+this.zeroFill(this.green.toString(16))+this.zeroFill(this.blue.toString(16));
            },
            zeroFill : function(n){
                var tmp = parseInt(n);
                if(tmp <10){
                    return "0"+tmp;
                }
                return n;
            }
        });
    </script>
</dom-module>
